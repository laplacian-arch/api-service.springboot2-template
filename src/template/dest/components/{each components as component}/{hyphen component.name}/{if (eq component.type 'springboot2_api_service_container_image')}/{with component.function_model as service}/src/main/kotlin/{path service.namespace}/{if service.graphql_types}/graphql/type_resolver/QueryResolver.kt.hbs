{{define "package" (concat service.namespace '.graphql.type_resolver') ~}}
package {{package}}
import org.springframework.stereotype.Component
import graphql.schema.idl.RuntimeWiring
import graphql.schema.idl.TypeRuntimeWiring
import graphql.schema.DataFetchingEnvironment

/**
 * The resolver of the graphql root query type.
 */
@Component
class QueryResolver() {
    /**
     * Registers the field fetchers.
     */
    fun registerFetcher(wiring: RuntimeWiring.Builder) = wiring.type(
        TypeRuntimeWiring.newTypeWiring("Query")
        {{#each service.graphql_type_groups as |graphql_type_group| ~}}
        .dataFetcher("{{lower-camel graphql_type_group}}") { _ -> emptyMap<String, String>()}
        {{/each}}
    )
}
