{{define 'namespace' (concat service.namespace '.db.' (lower-snake data_model.name)) ~}}
{{define 'data_model_class_name' (upper-camel data_model.name) ~}}
{{define 'class_name' (concat data_model_class_name 'Repository') ~}}
{{define 'result_class_name' (concat data_model_class_name 'Record') ~}}
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="{{namespace}}.{{class_name}}">
  {{#each graphql_type.mybatis_mappers as |mapper| ~}}
  <{{mapper.type}} id="{{lower-camel mapper.id}}" resultType="{{namespace}}.{{result_class_name}}">
  {{shift mapper.statement 4}}
  </{{mapper.type}}>
  {{/each}}
</mapper>
