{{define 'class_base_name' (upper-camel graphql_type.name) ~}}
{{define 'repository_class_name' (concat class_base_name 'Repository') ~}}
{{define 'mybatis_mappers' graphql_type.mybatis_mappers ~}}
{{define 'package' (concat service.namespace '.graphql.type.' (lower-snake graphql_type.name)) ~}}
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="{{package}}.{{repository_class_name}}">
  {{#each graphql_type.mybatis_mappers as |mapper| ~}}
  <!--
  {{trim mapper.description}}
  -->
  <{{mapper.type}}
    id="{{lower-camel mapper.name}}"
    resultType="{{package}}.{{mapper.result_class_name}}"
  >
  {{shift mapper.statement 4}}
  </{{mapper.type}}>
  {{/each}}
</mapper>
