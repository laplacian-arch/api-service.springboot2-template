package {{service.namespace}}.query

import {{service.namespace}}.util.*

data class StringSearchInput (
    val startsWith: List<String> = emptyList(),
    val endsWith: List<String> = emptyList(),
    val contains: List<String> = emptyList(),
    val equalsTo: List<String> = emptyList()
) {
    fun isEmpty(): Boolean =
        startsWith.isEmpty() &&
        endsWith.isEmpty() &&
        contains.isEmpty() &&
        equalsTo.isEmpty()

    companion object {
        fun from(map: Any?): StringSearchInput =
            if (map == null || map !is Map<*, *>) StringSearchInput()
            else StringSearchInput(
                startsWith = map.getList<String>("startsWith"),
                endsWith =  map.getList<String>("endsWith"),
                contains = map.getList<String>("contains"),
                equalsTo = map.getList<String>("equalsTo")
            )
    }
}