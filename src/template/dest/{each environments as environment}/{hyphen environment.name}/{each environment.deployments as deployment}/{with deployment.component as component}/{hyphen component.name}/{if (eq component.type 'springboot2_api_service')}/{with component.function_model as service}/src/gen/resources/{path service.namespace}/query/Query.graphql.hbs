{{define "top_level_entities" service.top_level_entities_used_in_graphql ~}}
#
# The root query schema definition.
#
type Query {
  {{#each top_level_entities as |top_level| ~}}
  {{lower-camel (plural top_level.name)}}(
    {{#each top_level.stored_properties as |p|}}
    {{lower-camel p.name}}: {{p.class_name}}{{if (eq p.type 'boolean') '' 'SearchInput'}}
    {{/each}}
  ): [{{upper-camel top_level.name}}]!
  numberOf{{upper-camel (plural top_level.name)}}(
    {{#each top_level.stored_properties as |p|}}
    {{lower-camel p.name}}: {{p.class_name}}{{if (eq p.type 'boolean') '' 'SearchInput'}}
    {{/each}}
  ): Int!
  {{define "primary_keys" (filter top_level.properties '@it.primary_key') ~}}
  {{#if primary_keys ~}}
  {{lower-camel top_level.name}}(
    {{#each primary_keys as |pk| ~}}
    {{lower-camel pk.name}}: {{upper-camel pk.class_name}}!
    {{/each}}
  ): {{upper-camel top_level.name}}
  {{/if}}
  {{/each}}
}
