#
# The root query schema definition.
#
type Query {
  {{#each service.entities_backing_graphql_type as |top_level| ~}}
  {{lower-camel (plural top_level.name)}}(
    {{#each top_level.stored_properties as |p|}}
    {{lower-camel p.name}}: {{p.class_name}}{{if (eq p.type 'boolean') '' 'SearchInput'}}
    {{/each}}
  ): [{{upper-camel top_level.name}}]!
  numberOf{{upper-camel (plural top_level.name)}}(
    {{#each top_level.stored_properties as |p|}}
    {{lower-camel p.name}}: {{p.class_name}}{{if (eq p.type 'boolean') '' 'SearchInput'}}
    {{/each}}
  ): Int!
  {{define "primary_keys" (filter top_level.properties '@it.primary_key') ~}}
  {{#if primary_keys ~}}
  {{lower-camel top_level.name}}(
    {{#each primary_keys as |pk| ~}}
    {{lower-camel pk.name}}: {{upper-camel pk.class_name}}!
    {{/each}}
  ): {{upper-camel top_level.name}}
  {{/if}}
  {{/each}}
  {{#each service.graphql_types_backed_by_external_rest_api as |type| ~}}
  {{define "operation" type.rest_operation ~}}
  {{lower-camel type.name}}(
    {{#each operation.path_parameters as |param| ~}}
    {{lower-camel param.name}}: {{upper-camel param.type}}!
    {{/each}}
    {{#each operation.query_parameters as |param| ~}}
    {{lower-camel param.name}}: {{upper-camel param.type}}
    {{/each}}
  ): {{upper-camel type.rest_resource.resource_model.name}}
  {{/each}}
}
