{{define "class_base_name" (upper-camel query.name) ~}}
package {{service.namespace}}.search.{{lower-snake search_index.name}}

import {{service.namespace}}.query.*
import {{service.namespace}}.util.*
import java.time.LocalDate

data class {{upper-camel class_base_name}}Input (
    {{#each query.parameters as |parameter| ~}}
    val {{lower-camel parameter.name}}: {{parameter.class_name}}{{if (not parameter.required) "?" }} = {{parameter.default_value}},
    {{/each}}
) {
    companion object {
        fun from(args: Map<String, Any?>): {{class_base_name}}Input {
            return {{class_base_name}}Input(
                {{#each query.parameters as |parameter| ~}}
                {{define "name" (lower-camel parameter.name) ~}}
                {{name}} = args["{{name}}"] as? {{parameter.class_name}} ?: {{parameter.default_value}},
                {{/each}}
            )
        }
    }
}
