{{#each service.datasources ~}}
management.health.datasource.enabled=false
{{~/each}}
{{#each service.datasources as |datasource| ~}}
{{define "prefix" (concat
  'spring'
  (if (eq datasource.name 'default') '' (concat '.' (lower-snake datasource.name)))
  '.r2dbc'
) ~}}
{{prefix}}.url=
{{prefix}}.username=
{{prefix}}.password=
{{prefix}}.pool.initial-size=5
{{prefix}}.pool.max-size=10
{{prefix}}.pool.max-idle-time=1m
{{prefix}}.pool.validation-query=SELECT 1
{{~/each}}
{{#if service.depends_on_elasticsearch ~}}
management.health.elasticsearch.enabled=false
{{~/if}}
{{#if service.depends_on_redis_cache ~}}
management.health.redis.enabled=false
spring.redis.host=http://localhost
spring.redis.port=6379
spring.redis.password=
{{~/if}}
{{#each service_configurations as |config| ~}}
{{config.key}}={{trim config.default_value}}
{{/each}}
