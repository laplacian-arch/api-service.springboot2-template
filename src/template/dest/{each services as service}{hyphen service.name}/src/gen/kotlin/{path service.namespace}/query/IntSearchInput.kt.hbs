package {{service.namespace}}.query

import {{service.namespace}}.util.*

data class IntSearchInput (
    val equalsTo: List<Int> = emptyList(),
    val greaterThan: Int? = null,
    val lessThan: Int? = null
) {
    fun isEmpty(): Boolean =
        greaterThan == null &&
        lessThan == null &&
        equalsTo.isEmpty()

    companion object {
        fun from(map: Any?): IntSearchInput =
            if (map == null || map !is Map<*, *>) IntSearchInput()
            else IntSearchInput(
                equalsTo = map.getList<Int>("equalsTo"),
                greaterThan = map.getAs<Int>("greaterThan"),
                lessThan = map.getAs<Int>("lessThan")
            )
    }
}